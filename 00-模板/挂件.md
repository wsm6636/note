---
created: 2024-02-06-23:43:04
updated: 2024-04-17T10:47
---



# 倒计时
### 倒计时
- 今天还剩 `= round((date(tomorrow)-date(now)).hours,2)` 小时，也就是 `= round((date(tomorrow)-date(now)).minutes)` 分钟，或者是 `= round((date(tomorrow)-date(now)).seconds)` 秒；
- 这周还剩 `= round((date(eow)-date(now)).day,2)` 天，也就是 `= round((date(eow)-date(now)).hours,2)` 小时，或者是 `= round((date(eow)-date(now)).minutes,2)` 分钟，这一共是 `= round((date(eow)-date(now)).seconds)` 秒；
- `= date(today).month` 月还剩 `= round((date(eom)-date(now)).day,2) ` 天，也就是 `= round((date(eom)-date(now)).hours,2) ` 小时，或者是 `=round((date(eom)-date(now)).minutes,2) ` 分钟，这一共是 `= round((date(eom)-date(now)).seconds)` 秒；

百分比时间
- <font color="#d99694">今日剩余：</font>`= round((date(tomorrow)-date(now)).seconds/dur(24 hours).seconds*100,2)+"%"`
- <font color="#fac08f">本周剩余：</font>`= round((date(eow)-date(now)).second/dur(7 d).seconds*100,2)+"%"`
- <font color="#92cddc">本月剩余：</font>`= round((date(eom)-date(now)).second/(date(eom)-date(som)).seconds*100,2)+"%"`
- <font color="#b2a2c7">今年剩余：</font>`= round((date(eoy)-date(now)).second/dur(365 d).seconds*100,2)+"%"`

### 正计时
- 今天已经过了 `= round((date(now)-date(today)).hours,2)` 小时，也就是 `= round((date(now)-date(today)).minutes)` 分钟，或者是 `= round((date(now)-date(today)).seconds)` 秒；
- 这周已经过了 `= round((date(now)-date(sow)).hours,2)` 小时，也就是 `= round((date(now)-date(sow)).minutes)` 分钟，或者是 `= round((date(now)-date(sow)).seconds)` 秒；
- 这个月已经过了 `= round((date(now)-date(som)).hours,2)` 小时，也就是 `= round((date(now)-date(som)).minutes)` 分钟，或者是 `= round((date(now)-date(som)).seconds)` 秒；
- 今年已经过了 `= round((date(now)-date(soy)).hours,2)` 小时，也就是 `= round((date(now)-date(soy)).minutes)` 分钟，或者是 `= round((date(now)-date(soy)).seconds)` 秒；

*百分比时间*
- 今日已经过了：`= round((date(now)-date(today)).seconds/dur(24 hours).seconds*100,2)+"%"`；
- 本周已经过去：`= round((date(now)-date(sow)).second/dur(7 d).seconds*100,2)+"%"`；
- 本月已经过了：`= round((date(now)-date(som)).second/(date(eom)-date(som)).seconds*100,2)+"%"`；
- 今年已经过了：`= round((date(now)-date(soy)).second/dur(365 d).seconds*100,2)+"%"`；
```contributionWidget
id: fb248725-14c1-4b74-a4b2-4193165cb89e
type: countdown
titleAlign: center
backgroundStyle: card
maxWidthRatio: 100
repeatType: none
showEndDateTime: true
endHour: 20
endMinute: 0
endSecond: 0
title: 倒计时-西安
endYear: 2024
endMonth: 1
endDayOfMonth: 20
backgroundColor: "#ffffff00"
fontColor: "#ddae8eff"

```


# 进度条
```contributionWidget
id: 0c268da3-3041-450d-93ee-00b9365c47d7
type: dateProgress
titleAlign: center
backgroundStyle: card
showDateIndicator: true
showProgressIndicator: true
maxWidthRatio: 100
uiType: bar
title: 2024进度
startDateTime: 2024-01-01 22:54:10
endDateTime: 2024-12-31 22:54:16
backgroundColor: "#ffffff00"

```
 
```contributionWidget
id: 0c268da3-3041-450d-93ee-00b9365c47d7
type: dateProgress
titleAlign: center
backgroundStyle: card
showDateIndicator: true
showProgressIndicator: true
maxWidthRatio: 100
uiType: ring
title: PhD
startDateTime: 2022-09-01 00:00:00
endDateTime: 2026-08-01 00:00:00
backgroundColor: "#ffffff00"
fontColor: "#e37d7dff"

```
```contributionWidget
id: 0c268da3-3041-450d-93ee-00b9365c47d7
type: dateProgress
titleAlign: center
backgroundStyle: card
showDateIndicator: true
showProgressIndicator: true
maxWidthRatio: 100
uiType: ring
title: 意大利
startDateTime: 2024-04-01 00:00:00
endDateTime: 2026-04-01 00:00:00
backgroundColor: "#ffffff00"
fontColor: "#e3af7dff"

```


# 时钟

```contributionWidget
id: db3d8501-dd67-4359-9a77-ac741f71032a
type: clock
titleAlign: center
maxWidthRatio: -1
maxHeight: 300
backgroundStyle: none
clockOptions:
  showTimeLabel: false
  dialType: none

```

# 日历
```contributionWidget
id: cb75d687-9e06-41f1-a938-c8b59b06284a
type: dataview
titleAlign: center
query: CALENDAR  file.ctime
queryType: dataview
backgroundStyle: card
maxHeight: 1200
backgroundColor: "#ffffff00"

```

# 计数
```contributionWidget
id: 55c42e21-c946-4564-8a1c-a21caab8a999
type: count
titleAlign: center
backgroundStyle: card
maxWidthRatio: 100
query:
  type: page
  filter:
    conditions: []
backgroundColor: "#ffffff00"
title: 文档数

```
```contributionWidget
id: 8858db4a-063f-4c6a-a172-8e1da2120b4a
type: count
titleAlign: center
backgroundStyle: card
maxWidthRatio: 100
query:
  type: page
  filter:
    conditions:
      - type: property
        value:
          - 笔记/paper
        operator: contains
        property: tags
        id: 0fcc7466-09eb-42de-9dd1-6519be11fc3f
title: paper
backgroundColor: "#ffffff00"

```
```contributionWidget
id: 8858db4a-063f-4c6a-a172-8e1da2120b4a
type: count
titleAlign: center
backgroundStyle: card
maxWidthRatio: 100
query:
  type: page
  filter:
    conditions:
      - type: property
        value:
          - 笔记/文献笔记
        operator: contains
        property: tags
        id: 0fcc7466-09eb-42de-9dd1-6519be11fc3f
title: 文献
backgroundColor: "#ffffff00"

```
```contributionWidget
id: 8858db4a-063f-4c6a-a172-8e1da2120b4a
type: count
titleAlign: center
backgroundStyle: card
maxWidthRatio: 100
query:
  type: page
  filter:
    conditions:
      - type: property
        value:
          - 笔记/学习笔记
        operator: contains
        property: tags
        id: 0fcc7466-09eb-42de-9dd1-6519be11fc3f
title: 学习
backgroundColor: "#ffffff00"

```
```contributionWidget
id: f8f20cd1-e6c0-42f5-94aa-f432c5b4c6d9
type: multi
titleAlign: center
backgroundStyle: none
widgets:
  - id: 5ddb4baf-ccc9-41b9-8f05-f6fa3f57286b
    type: count
    titleAlign: center
    backgroundStyle: card
    maxWidthRatio: 100
    query:
      type: page
      filter:
        conditions: []
    backgroundColor: "#ffffff00"
    title: 文档
    picture: ""
    fontColor: "#bf7fffff"
  - id: b13ae4ec-76b9-46ea-b656-e96a548e31c1
    type: count
    titleAlign: center
    backgroundStyle: card
    maxWidthRatio: 100
    query:
      type: page
      filter:
        conditions:
          - type: property
            value:
              - 笔记/文献笔记
            operator: contains
            property: tags
            id: 2d9358e3-5740-49e0-b1cb-069dc6366a49
    title: 文献
    backgroundColor: "#ffffff00"
    fontColor: "#c489ffff"
  - id: 8fefe2c5-a8df-499a-a0df-87f33a907b9e
    type: count
    titleAlign: center
    backgroundStyle: card
    maxWidthRatio: 100
    query:
      type: page
      filter:
        conditions:
          - type: property
            value:
              - 笔记/学习笔记
            operator: contains
            property: tags
            id: dfdcf3da-aa29-4048-bd27-55c11a1a47d3
    title: 学习
    backgroundColor: "#ffffff00"
    fontColor: "#c993ffff"
  - id: 6f18a6ae-7acc-4270-a8d2-ae9e41ef1132
    type: count
    titleAlign: center
    backgroundStyle: card
    maxWidthRatio: 100
    query:
      type: page
      filter:
        conditions:
          - type: property
            value:
              - 笔记/paper
            operator: contains
            property: tags
            id: b7238169-4380-4a41-a2e8-d6795a0a157c
    title: paper
    backgroundColor: "#ffffff00"
    fontColor: "#ce9effff"
layoutType: flat

```
```contributionWidget
id: 5b849ed3-55de-4022-866a-39969867999c
type: ref
refId: 56a9a11b-eb98-46f1-b6c4-4a28b9eea538

```

# 图表
```contributionWidget
id: a1fe90c3-4b47-475c-9182-04a113900188
type: chart
titleAlign: center
chartType: line
backgroundStyle: card
maxWidthRatio: 100
maxHeight: 1200
labelProperty: updated
labelFormat: $toDate
valueProperty: $file_count
filter:
  conditions: []
chartColorSet:
  - "#9376f3ff"
title: ""
backgroundColor: "#ffffff00"
fontColor: "#ffffffff"
valueFormat: $sum
chartLabelPosition: hidden

```


# 组合


# markdown
```contributionWidget
id: cec6ca5f-ae39-49ca-8526-4cb23b9f72bf
type: markdown
titleAlign: center
maxWidthRatio: -1
backgroundStyle: card
maxHeight: 300
contentAlign: left
markdownsSource: content
markdownValue: "# 每天都很哇塞"

```
```contributionWidget
id: d4225699-865a-4933-8531-84876d8ce5bc
type: markdown
titleAlign: center
maxWidthRatio: 25
backgroundStyle: card
maxHeight: 300
contentAlign: left
markdownsSource: content
markdownValue: |-
  -  <font color="#d99694">今日剩余：</font>**`= round((date(tomorrow)-date(now)).seconds/dur(24 hours).seconds*100,2)+"%"`**
  - <font color="#fac08f">本周剩余：</font>**`= round((date(eow)-date(now)).second/dur(7 d).seconds*100,2)+"%"`**
  - <font color="#92cddc">本月剩余：</font>**`= round((date(eom)-date(now)).second/(date(eom)-date(som)).seconds*100,2)+"%"`**
  - <font color="#b2a2c7">今年剩余：</font>**`= round((date(eoy)-date(now)).second/dur(365 d).seconds*100,2)+"%"`**
backgroundColor: "#ffffff00"

```
```contributionWidget
id: 9c9475a4-9a15-4336-8617-3841a757dd91
type: multi
titleAlign: center
tabTitle: ""
maxWidthRatio: -1
backgroundStyle: none
widgets:
  - id: a86fe4a9-142a-4c49-ac13-92abfd735711
    type: dynamicDataView
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: none
    viewType: gallary
    datasource:
      filter:
        conditions:
          - type: tag
            value: "#个人/周记"
            operator: contains
            property: ""
            id: cfa35269-ee9b-402c-b4c7-8d82ca8d16b0
          - type: file_path
            value: 模板
            operator: not_equals
            property: ""
            id: 31852417-26b2-41f1-863f-8b5f62ac60ca
      dataLimit: 10
      storage:
        location: ""
      sort:
        orders:
          - id: 658df49e-3380-4abc-b828-70ce33a82b63
            property: 周记
            direction: desc
    properties:
      - id: 1e9eda0b-7a7f-44de-a649-2d1460b5d086
        name: updated
        isShow: true
        defaultValue: ""
        type: text
    viewOptions:
      cover:
        type: pageProperty
        value: tags
        fit: contains
layoutType: column

```
```contributionWidget
id: 2fcd1b4b-cda0-4add-9ae9-c2654b1f1b0e
type: multi
titleAlign: center
tabTitle: ""
maxWidthRatio: -1
backgroundStyle: none
widgets:
  - id: 5c2b9c4c-48c7-4918-8866-9629c2797678
    type: dynamicDataView
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: none
    viewType: gallary
    datasource:
      filter:
        conditions:
          - type: tag
            value: "#个人/周记"
            operator: contains
            property: ""
            id: 85259f70-366e-4faf-a424-a9637a3a0136
          - type: file_path
            value: 模板
            operator: not_equals
            property: ""
            id: e35a91a4-c18a-402f-b740-c9c068b1a6d0
      dataLimit: 10
      storage:
        location: ""
      sort:
        orders:
          - id: 62ffd5c0-d082-4b8f-815a-790dd10ed0c3
            property: updated
            direction: desc
    properties:
      - id: 42f0300e-010c-479e-8752-619e6550459d
        name: ${file.basename}
        isShow: true
        defaultValue: ""
        type: text
    viewOptions:
      cover:
        type: pageFirstImage
        value: ""
        fit: contains
layoutType: column

```
```contributionWidget
id: 52776ba7-9254-4192-9705-fe85e5b5136a
type: multi
titleAlign: center
tabTitle: ""
maxWidthRatio: -1
backgroundStyle: none
widgets:
  - id: 18ecba93-3570-41b6-b3bf-6f1bd34d61f1
    type: dateProgress
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: card
    showDateIndicator: true
    showProgressIndicator: true
    startDateTimeType: $startOfToday
    endDateTimeType: $endOfToday
    uiType: ring
    title: 日进度
    backgroundColor: "#ffffff00"
    fontColor: "#d99694ff"
  - id: c0bca10e-12ce-4379-9ac8-3837a9ed7472
    type: dateProgress
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: card
    showDateIndicator: true
    showProgressIndicator: true
    startDateTimeType: $startOfWeek
    endDateTimeType: $endOfWeek
    uiType: ring
    title: 周进度
    backgroundColor: "#ffffff00"
    fontColor: "#fac08fff"
  - id: 0fb34d85-9d85-4d2d-900e-89207d9012b7
    type: dateProgress
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: card
    showDateIndicator: true
    showProgressIndicator: true
    startDateTimeType: $startOfMonth
    endDateTimeType: $endOfMonth
    uiType: ring
    title: 月进度
    backgroundColor: "#ffffff00"
    fontColor: "#92cddcff"
  - id: 4e856ed8-0fc5-4bec-b97d-5fc0878babe3
    type: dateProgress
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    backgroundStyle: card
    showDateIndicator: true
    showProgressIndicator: true
    startDateTimeType: $startOfYear
    endDateTimeType: $endOfYear
    uiType: ring
    title: 年进度
    backgroundColor: "#ffffff00"
    fontColor: "#b2a2c7ff"
layoutType: column

```

```contributionWidget
id: 2721561f-ce9e-4aab-9c3a-707a1c745c60
type: multi
titleAlign: center
tabTitle: ""
maxWidthRatio: -1
backgroundStyle: none
widgets:
  - id: 822313f5-8084-4aa0-8265-13231199f5e2
    type: dataview
    titleAlign: center
    tabTitle: ""
    maxWidthRatio: -1
    query: |-
      let fileContent = await app.vault.readRaw(dv.page("一言").file.path) 
      let sentenceList = fileContent.split("\n") 
      sentenceList = sentenceList.filter(x => x.startsWith("-")) 
      let oneSentence = sentenceList[sentenceList.length * Math.random() | 0] 
      oneSentence = '每日一句：' + oneSentence.substring(2) 
      dv.paragraph(`<div style="font-size: 24px; font-family: kaiti;">${oneSentence}</div>`)
    queryType: dataviewjs
    backgroundStyle: card
    maxHeight: 300
    dynamicParamComponents: []
layoutType: column

```

![1|160](../06-图/1.png)

```contributionWidget
id: e1b5f492-d214-498c-905d-232dbaffa247
type: 'ref'
refId: '5728d82c-ebb3-4bf1-b691-9e17a00d5b78'
```
