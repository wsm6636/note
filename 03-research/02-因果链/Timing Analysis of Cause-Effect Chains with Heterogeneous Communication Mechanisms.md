---
created: 2023-07-21T12:27
updated: 2024-03-26T23:33
tags:
  - 笔记
  - 笔记/文献笔记
---

# Timing Analysis of Cause-Effect Chains with Heterogeneous Communication Mechanisms

| Title                 | Timing Analysis of Cause-Effect Chains with Heterogeneous Communication Mechanisms |
| --------------------- | ---------------------------------------------------------------------------------- |
| Journal or Conference | RTNS 2023: The 31st International Conference on Real-Time Networks and Systems     |
| Authors               | Mario Guenzel; Niklas Ueter; Kuan-Hsun Chen; Jian-Jia Chen                         |
| Pub. date             | 2023-06-07                                                                         |
| DOI                   | [10/gsfbtx](https://doi.org/10/gsfbtx)                                             |
| Level                 |                                                                                    |

Timing Analysis of Cause-Effect Chains with Heterogeneous Communication Mechanisms
====

# 具有异质沟通机制的因果链时序分析

## 摘要

汽车系统中的软件应用程序由通信实时任务组成，由因果链描述。为保证功能正确性，必须验证因果链的端到端计时延迟。端到端延迟的分析在很大程度上取决于通信方法。隐式通信在AUTOSAR时序规范中进行了标准化，确保了数据的一致性。为了从任务的实际执行行为中抽象出通信，提出了逻辑执行时间(LET)。然而，LET提供的确定性是以端到端延迟增加为代价的。==在工业级系统中，使用LET和隐式通信的周期性和零星任务共存。因此，端到端延迟分析应该涵盖这种不同的因果链。==

> 动机

在这项工作中，我们提出了第一个用于因果链的端到端分析的形式化分析框架，该框架允许不同类型的重复任务和不同的通信机制，==即(I)零星任务和周期性任务的混合设置，(Ii)通过LET和隐式通信机制的混合设置进行通信==。在这方面，我们揭示了同质分析所依据的原则，并讨论了如何将这些原则转移到异质案例中。特别是，我们将因果链分割成同质的部分，这导致了==三种不同的分析：一种基线方法，一种直接使用同质结果的方法，以及一种减少对沟通方式变化的悲观情绪的方法==。我们的评估表明，对于一些系统，两种更复杂的方法的性能明显优于基线，而对于其他系统，基线已经令人满意。

> 同构：因果链上所有任务都是相同释放方式以及通信方式

## 1 introduction

在现代汽车系统中，驾驶辅助系统、电子刹车系统甚至门锁等应用程序越来越依赖软件。软件被分解成在汽车体系结构的电子控制单元(ECU)上执行的重复任务。

执行特定功能所需的任务序列以及这些任务之间的数据依赖关系由因果链描述。一个典型的例子是从传感器到执行器的链，其中链中的第一个任务读取传感器值(操作的原因)，第二个任务处理传感器值，第三个任务向执行器产生输出(由原因触发的结果)。任务必须基于传感器的值提供正确的驱动，即，在指定的时间约束下，结果在逻辑上是正确的。因此，此类计算的端到端延迟等定时属性必须在端到端定时分析中进行验证，以确保系统安全。评估因果链的端到端定时行为的一个典型度量是最大反应时间(按钮到动作延迟)，即从外部原因发生到数据被完全处理的最早时间间隔的长度。

因果链的端到端时序在很大程度上取决于沟通策略。在当前的汽车开放系统架构(AUTOSAR)标准[1]中，规定了两种通信模型：显式通信和隐式通信。隐式通信假定数据始终分别在循环任务实例执行的开始和结束时读取和写入。相反，显式通信模型假定读和写操作可以在执行期间的任何时间发生，例如，只要产生数据。然而，显式的通信语义允许直接、不受限制的访问，这很容易导致数据一致性问题。因此，通常采用隐式通信策略，因为它们保证了所需的数据一致性[15]。

最近，逻辑执行时间(LET)[16]模型已被汽车行业采用，作为一种减少抖动并进一步提高确定性的通信机制。LET将通信从物理平台上实时任务的实际计时行为中抽象出来，即通信独立于任务实例(称为作业)的实际调度。相反，可以确保读取(分别是写入)发生在作业开始(分别是结束)之前(分别是在之后)。这在功能和调度之间引入了分离。正如Ernst等人所报道的。[10]汽车行业的几家原始设备制造商和供应商已经得出结论，“LET可能是一个关键的推动因素，汽车社区已经在进行标准化工作，以将LET整合到AUTOSAR中。”请注意，“LET[...]导致事件链中等待时间更长“([15])，以实现决定论。

然而，**目前最先进的分析只允许具有同质通信机制的因果链或者仅具有隐式通信或仅具有LET。也就是说，如果一些任务必须应用LET来改善时间决定论，则因果链中的所有其他任务都必须相应地转换为LET。**由于一项任务可能涉及多个因果链，并且LET通信典型地增加端到端延迟，这种转换可能会在计时方面产生多米诺骨牌效应，这只是由于缺乏适当的分析。<span style="background:#FFFFBB;">为了克服这种不必要的转换，在一个因果链中拥有LET和隐含交流的可能性实际上是相关的</span>。如Hamann等人所述。[15]，汽车系统由使用不同通信机制的因果链组成。==虽然隐式通信和LET两者都确保了数据一致性，但如果必须进一步追求时间确定性，任务使用LET通信，而如果减少端到端延迟是主要目标，任务使用隐式通信。==

> 要解决的问题：以前的分析只有隐式通信或者LET，分析时需要都转换为一种，导致不必要的延迟增加。

贡献：据我们所知，<span style="background:#FF9999;">我们提出了第一个端到端延迟分析的因果链，其中LET和隐式沟通共存，并由任意截止日期的零星和周期性任务组成</span>。特别地，在第5节中，我们应用切割定理[14]，它将因果链分解成同质的子链，以提供：

<span style="background:#FF9999;">(1)定理8中的基线方法，通过在每个任务中切割链来实现。</span>
<span style="background:#FF9999;"></span>
<span style="background:#FF9999;">(2)通过将链切割成最大的同质子链而实现的分析，如备注25所述。</span>
<span style="background:#FF9999;"></span>
<span style="background:#FF9999;">(3)改进的分析，它直接分析异类通信，并在发布策略改变时切断链，如备注28所总结。</span>

为了实现分析(2)和(3)，我们在第6节中揭示了当前延迟分析的基本原则。这些原则可以用作构建工具包，以构建第7节中的同构系统分析，并改进第8节中的异类通信分析。据我们所知，这是第一次制定这种基于原则的通用分析。尽管第7节中的一些分析与文献中的分析不谋而合，但在这部作品中，他们的证明是统一的，并分解成他们的核心原则。

在第9节的评估中，我们将分析(2)和(3)与基线(1)进行比较。对于一些任务系统，它们导致与基线相比有显著的收益(即高达80%)，而对于其他系统，本工作中提出的基线方法已经执行得很好。此外，(3)表现优于(2)。

## 2 SYSTEM MODEL

我们考虑一个τ任务的有限集合T，每个任务都释放无限数量的任务实例，称为作业。任务τ的第k个作业被表示为τ(K)，并且J指的是通用作业。

**发布策略**。任务集T由周期性任务和零星任务的任意混合组成。零星任务释放由元组(Cτ，Tminτ，Tmaxτ)描述，其到达模式受其最小到达间隔时间Tminτ和最大到达间隔时间Tmaxτ的限制，使得对于任意两个后续作业释放τ(k)和τ(k+1)具有各自的==释放时间rτ(K)==和rτ(k+1)，Tminτ≤rτ(k+1)-rτ(K)≤Tmaxτ。周期任务τ由(Cτ，Tτ，φτ)描述，其中Tτ是τ的周期，φτ是它的阶段，即，==任务τ的第一次释放在时间φτ，并且后续作业在每个Tτ时间单位被释放。==

> 释放时间r

**调度策略**。我们假设一个**抢占式固定优先级调度**，它为每个任务分配N中唯一的优先级。==优先级函数π==表示任务的优先级。如果任务τ的优先级高于τ‘，则为π(τ)>π(τ’)。

在具体调度S中，每个作业J具有释放时间rj、结束时间fj，并且在时间间隔[rj，fj]期间执行Cj>0的时间量。相应任务τ的每个作业J的执行时间CJ由任务的最坏情况执行时间(WCET)Cτ自上而下限定。任务τ从释放到完成的最长时间称为==最坏情况响应时间(WCRT)Rτ。==

在我们的分析中，我们考虑了T的具体调度S，并分析了它的最大反应时间。然而，为了使分析对任何调度有效，我们假设所有任务的最坏情况响应时间R<∞是预先已知的，并且覆盖了在给定的固定优先级设置下T的任意可能调度中任务的响应时间。这可以通过执行例如Lehoczky的繁忙间隔方法来实现[20]。

**通信策略**。作业从共享资源(例如，寄存器或缓冲区)接收(读取)它们的输入，并将它们的输出移交(写入)到共享资源。给定一个固定的时间表，我们用**==re(J)表示作业J的第一个读事件，用we(J)表示J的最后一个写事件==**。我们考虑两种常见的通信策略：



(I)隐式通信，其中读和写事件与作业的开始和结束对齐，以及

> r≤re

(Ii)逻辑执行时间==(LET)[==16]，其中每个任务τ被分配任意的截止日期Dτ，并且τ的每个作业J的==读和写事件分别被设置为其释放时间re(J)=rj和其绝对截止日期we(J)=dJ：=rj+Dτ。==**系统中的每个任务要么使用隐式通信，要么使用逻辑执行时间(LET)**，COMM(τ)∈{LET，impl}表示任务τ的通信策略。我们假设Rτ≤Dτ如果τ使用LET进行通信。

> COMM(τ)：通讯方式
>
> 最大反应时间MRT

## 3 CAUSE-EFFECT CHAINS

这项工作推导出了因果链==最大反应时间==的端到端时序分析。最大反应时间概念背后的直觉是确定在最坏的情况下，外部原因需要多长时间才能被处理。为了完备性，在Günzel等人的工作之后，我们首先在我们的时间分析中定义了被分析的实体，即因果链。[14]。然后，我们定义了最大反应时间和本文所要研究的问题。

因果链E=(τ1→τk)是描述从数据产生任务到消耗该数据的任务的数据传播路径的有序任务序列。因果链E的长度|E|=k由所涉及的任务的数目E(i)，i{1，.。。，|E|}表示因果链中的第i个任务，==E(i)(K)表示E的第i个任务的第k个作业。==我们用Φ(E)表示E的**所有任务首次发布至少一个作业。**

对于最大反应时间的形式定义，我们考虑了扩充的作业链[14]，这是Dürr等人对作业链的初始定义的改进。[9]。扩充的作业链是一个序列(z，J1，.。。，J|E|，z‘)，其中(J1，.。。，J|E|)描述作业序列的数据传播，并且z和z‘描述与数据路径相关的要测量的时间点，例如，外部事件的时间(这里：Z)或数据被完全处理的时间(这里：Z’)。更正式地说，我们将它们定义为：

定义1(扩充的作业链)。因果链E的增广作业链是序列Ce=(z，J1，.。。，J|E|，z‘)，

具有下列性质：

·Ji是E(i)的作业，对所有i∈{1，.。。，|E|}。

·we(Ji)≤re(Ji+1)For All i∈{1，.。。，|E|−1}。

·z≤re(J1)和z‘≥we(J|E|)。

> 作业i的写操作在i+1的读操作之前

增加的作业链的长度为L(Ce)=z‘−z。

为了分析沿着因果链的优先约束的数据传播的时序，**跟踪立即传播数据的作业，即由前一任务的作业读取新写入数据的任务的最早作业是有帮助的。**我们将这种作业链称为立即转发扩充作业链，如图1所示，并将其形式化如下：

定义2(立即转发扩充作业链)。设m∈N，第m个直接前向增广作业链®ce m=(z，J1，.。。，J|E|，z‘)是一个扩充的作业链，其中满足以下附加性质：

·z是在E(1)的第m个作业的读取事件。

·J1是E(1)的第(m+1)个任务。

·for All I∈{1，.。。，|E|−1}，**Ji+1是E(i+1)具有最早的读取事件的作业，**≥WE(Ji)。

·z‘位于J|E|的写入事件。

> 主要是：Ji+1是i之后下一个任务E(i+1)里面第一个读取数据的作业

![image-20230624210001156](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403435.png)

例3(立即转发扩展的作业链)。图1显示了一个立即转发的扩展作业链®ce 1=(2，τ1(2)，τ2(2)，τ3(2)，19)。优先级索引任务τ1=(c1=1，t1=5，φ1=2)，τ2=(3，7，0)和τ3=(1，10，5)的作业使用固定优先级调度策略在单个ECU上调度。第一个立即向前扩展的作业链®Ce 1在时间z=2开始于E(1)的第一个作业的读取事件，并且第一个作业J1由后续作业τ1(2)给出。然后，第二作业J2由任务E(2)的第一作业确定，使得读事件不早于J1的写事件，即Re(J2)≥WE(J1)=8。类似地，由于2=arg mink{Re(≥3(K))τWE(J2)=11}，J3由τ3(2)给出。最后的写入事件发生在τ3(2)的结束时间，即时间z‘=19。

定义4(有效)。考虑一些直接向前扩展的作业链®ce m=(z，J1，.。。，J|E|，z‘)。当且仅当J1的读事件不早于最大的第一个读事件，即不早于re(𝜏 (1))时，我们称其为有效的。

我们注意到，来自示例3的立即向前扩展的作业链是有效的，因为图1中描绘的调度的最大读取事件在时间5，而®CE1的第一个作业条目的读取事件在时间7。

定义5(最长反应时间)。对于因果链E，我们定义==最大反应时间(MRT)==如下，也就是说，作为所有有效立即转发扩充作业链的长度的上界。

由于立即转发扩充作业链的有效性依赖于调度，因此我们仅根据释放时间和WCRT，给出了立即转发扩充作业链有效的必要条件。

引理6.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的、立即转发的扩充作业链。则对于所有I∈{1，2，.。。，|E|}E的所有任务在时间rJi+re(i)时已经在系统中，==即**E的所有任务在rJi+re(i)或之前已经发布了它们的第一个作业。**==

> 这个是为啥

## 4 PROBLEM DEFINITION

我们推导出了特定因果链E的最大反应时间MRT的上界，假设

·所有任务按照**固定优先级**的调度策略进行调度

·所有任务的最坏响应时间是有界的，即对于带有LET的任务，R≤D，对于具有隐式通信的任务，Rττ<∞；

==·E中的**任务可以遵循不同的发布策略，即零星的或周期性的**；以及==

==·E中的**任务可以遵循不同的通信策略，即LET或隐式通信**。==

包含在因果链中的任务可以在多个分布式电子控制单元(ECU)上执行。然而，Günzel et al.阐述了MRT的组成性质[14，定理12]，即，通过将因果链分成几个部分，每个部分在一个单独的ECU上，并通过求和链所有部分的MRT界限，可以获得链的MRT的安全上限。因此，要实现分析，只需考虑在同一ECU上调度所有任务的因果链就足够了。对于不同的端到端定时度量，在[6]中以相同的方式利用组成属性。

## 5 对异质系统的分析ANALYSIS FOR HETEROGENEOUS SYSTEMS

在这一部分中，我们给出了异质因果链E的最大反应时间的第一界，即因果链受到多种释放约束(即，一些任务是周期性的，而另一些任务是零星的)，E中的一些任务通过LET进行通信，而其他任务通过隐式通信进行通信。

对于异质系统，文献中的界限(例如，[8，9，15])不能直接应用，因为它们是针对同质系统而制定的。然而，Günzel et al.[14]给出切割定理，将序列E=(e1→e2)的端到端潜伏期的界问题归结为子序列e1，e2的潜伏期的界问题。

定理7(切割定理；出自[14，定理12])。设E=(τ1→τ|E|)是任一因果链，进一步k∈{1，.。。，|E|−1}为整数。对于因果链，E1：=(τ1→···→τk)和E2：=(τk+1→···→τ|E|)成立

![image-20230621214226733](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306212142806.png)

针对一般通信方式和释放约束，建立了切割定理。因此，只要子链的最大反应时间是有界的，它就适用于多相体系。这==通过将因果链切割成长度为1的链，从而得出最大反应时间上限的以下基线==，然后可以很容易地单独限制这些链。(请注意，此基线也适用于周期性任务，因为周期性任务可以被视为具有Tmax E(I)=Tmax E(I)=TE(I)的零星任务。)

==定理8(基线)。==设E是具有异质通信手段的T的因果链。则最大反应时间受以下条件限制：

![image-20230621215315015](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403348.png)

证据。在每一项任务之后，我们应用切割定理来切割因果链E。这样我们得到了|E|子链，每个子链的长度为1。==对于只有一个任务τ的因果链，如果τ通过隐式通信进行通信，则最大反应时间由Tmaxτ+Rτ来上界；如果τ通过LET进行通信，则最大反应时间由Tmaxτ+Dτ来上界。==

> 分析方法一：将整个因果链，一个任务分成一个子链，得到最坏情况，悲观

虽然提供的基线很容易计算，但在许多情况下，这只是一个悲观的上限。然而，切割定理的分解性质允许通过考虑同构子链来改善基线。具体地说，我们<span style="background:#ffbbff;">首先确定E的最长子序列，使得子序列中的所有任务具有相同的通信策略(LET或隐式通信)和相同的释放约束(周期性或零星的)</span>。我们将这些子序列表示为E1.。。，EK对于某些K∈N，和 E=(e1→··→EK)。应用切割定理，通过分析所有I∈{1，.。。，K}，并对结果进行了总结。为了计算同构系统Ei，i∈{1，.。。，K}，我们可以对同构因果链进行任何分析。

> 分析方法二：将链切割成最大的同构子链

因此，为了充分发挥我们的分析潜力，我们将在下面的小节中揭示同构系统的端到端分析的基本原则。然后在第7节中利用这些原理来证明(已知的和新颖的)对同构系统的分析，并在第8节中为具有异构通信机制的零星和周期性子链提供新的分析。请注意，我们的方法是非常灵活的，因为任何均质分析都可以应用，不仅在本文中详细说明，而且在具有相同性质的子链可以用不同的界限来分析的意义上。

## 6 延迟分析原则LATENCY ANALYSIS PRINCIPLES

在这一部分中，我们揭示了==当前同类系统中最大反应时间分析的基本原理，即，对于所有任务，释放模式要么是周期性的，要么是零星的，而对于所有任务，通信策略要么是LET，要么是隐式通信。==这些原则不仅可以用来显示这些分析的正确性(参见第7节)，还可以在分析异类案例时加以利用，如第8节所示。我们首先详细说明这些原则，然后确定任务特性LET、隐式通信、周期性和偶发性如何影响和简化这些原则。请注意，**虽然分析因果链中每项任务的分析方法并不是全新的(例如，[9，17])，但我们是第一个正式定义同时涵盖不同沟通政策的原则。**

为了分析最大反应时间，必须检查立即转发扩充作业链的长度。设®Ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链。我们将这条链分成三个部分：

**头部部分：从z到J1发布rj1之间的时间。**

**·正文段(S)：i=1，释放连续两个作业rji和rji+1之间的时间，i...|E|−1.**

**·尾段：rj|E|到z‘之间的时间。**

例9.图1描绘了与例3不同的直接前向扩充作业链®ce 1的不同段。®ce 1的头段覆盖了z和J1发布之间的5个时间单位。第一主体段的长度为0，因为它涵盖了从J1的发布到J2的发布的时间，J1的发布时间为时间7，J2的发布的时间也为时间7。第二主体段的长度为15−7=8，因为作业J3在时间15被释放。**尾段覆盖从J3发布到z‘的时间**，即19−15=4个时间单位。

![image-20230623153041269](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231530392.png)

在下面，我们揭示了每种类型的片段的一个基本分析原则，==从头部片段开始。==

原则1：由于z在J1之前处于作业E(1)的读取事件，所以我们有

![image-20230623153312653](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403108.png)。在LET和隐式通信下，这被简化为

![image-20230623153245767](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231532846.png)

**因为在这两种通信策略下，每个作业的读取事件受其释放的限制较低。**

==对于车身段==，我们遵循以下原则。

原则2：对于两个连续作业的释放之间的时间，我们知道**Ji+1是E(i+1)中第一个在Ji写事件或之后完成的作业**。在下文中，我们定义了两个术语来形式化地表示这种关系。

定义10(ρτ和ξτ)。设∈T是一个任务，t∈R是一个τ。在时间表S中，我们用ρτ(T)表示在时间点t或之后具有其读取事件的τ的第一作业的释放时间，而在时间表S中，用ξτ(T)表示在时间点t或之后释放的τ的第一作业的释放时间。**由于在LET和隐式通信下，每个作业的读取不早于其被释放**，这导致

![image-20230623153859445](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231538509.png)

> 为啥？
>
> Ji+1，不一定读数据

==对于尾段==，我们观察到：

原则3：由于z‘处于作业J|E|的写入事件，

![image-20230623153949362](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403985.png)

在本节的其余部分中，我们将讨论任务特性如何使隐式通信、周期性和偶发性影响和简化这些原则。

### 6.1零星任务Sporadic Tasks

对于零星任务τ，两个后续任务发布之间的距离至多为Tmaxτ，原则1简化为：

引理11.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链。如果E(1)是零星的，那么

![image-20230623154049144](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231540209.png)

证据。这是通过将![image-20230623154128349](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231541418.png)应用于公式(P1)来实现的。

此外，如果任务τ在时间t已经在系统中，则在释放τ的下一个作业之前，它至多占用Tmaxτ额外的时间单位。这将原则2简化如下：

引理12.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链，并设I∈{1，.。。，|E|−1}。如果E(i+1)是零星的且t≥Φ(E)，则

![image-20230623154349573](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403502.png)

证据。如果t≥Φ(E)，则E(i+1)在t之前已经有一个作业。至多需要Tmax E(i+1)个时间单位，直到E(i+1)的下一个作业被释放。

### 6.2 Periodic Tasks周期任务

对于定期任务τ，两个后续任务发布之间的距离正好是Tτ，原则1简化为：

引理13.设®Ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链。如果E(1)是周期的，则

![image-20230623154636680](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403383.png)

证据。这是通过将![image-20230623155002561](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403942.png)应用于方程(P1)来实现的。

周期性任务τ的释放模式由其周期和阶段唯一地确定。具体地，在时间![image-20230623155049826](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403169.png)时释放τ的第k个任务。这将原则2简化如下：

引理14.设®Ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链，并设I∈{1，.。。，|E|−1}。如果E(i+1)是周期的，则

![image-20230623155919887](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403390.png)

证据。根据周期性释放模式的定义，E(i+1)恰好在时间t之前释放![image-20230623160029854](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231600918.png)个作业。因此，下一个作业的释放时间由公式(8)描述。

**如果E中的所有任务都是周期性的，则它们的释放模式在每个超周期中重复。**更具体地说，设==H(E)是E中所有任务周期的最小公倍数==，则[x，x+H(E)]中的释放模式与[x+k·H(E)，x+(k+1)·H(E)]中的[x+k·H(E)，x+(k+1)·H(E)]相同，其中φ(E)是E中所有任务的最大阶段。由于释放模式的重复行为，如下面引理所示，仅限定有限多个因果链的长度就足够了。

引理15.设m∈N使得立即前向增广作业链®ce m有效。我们假设E中的所有任务都通过LET或隐式通信进行通信。此外，设lu(®Ce m)是仅基于以下信息的®Ce m的长度的上界：

A)在时间rE(1)(m)或之后发布工作的模式。

B)在rE(1)(m)时间或之后的工作截止时间模式。

C)任务的WCRT、WCET和优先级。

![image-20230623160259464](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231602532.png)

> 证明没看懂不讲了

### 6.3 Logical Execution Time (LET)

设作业的释放和写入事件之差正好是对应任务的相对截止期，即对于任务τ的每个作业J，we(J)=rJ+Dτ。这在以下方面简化了原则2：

引理16.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链，且设I∈1，.。。，|E|−1。如果E(i)通过LET进行通信，则

![image-20230623160533133](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403607.png)

证据。这源于方程(P2)和LET任务的性质we(Ji)=rJi+DE(i)。

此外，原则3简化如下：

引理17.设®Ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链。如果E(|E|)通过字母进行通信，则

![image-20230623160630818](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231606882.png)

证据。这是通过将we(E(|E|)(J))−rE(|E|)(J)=DE(|E|)应用于方程(P3)来实现的。

### 6.4 Implicit Communication隐性沟通

在隐式通信的情况下，**任务τ的每个作业J在其结束时fj写入数据。因为rJ+R是结束的一个上界**，所以我们有**we(J)≤rJ+Rτ**对于任务τ的每个任务J。这在以下方面简化了原则2：

引理18.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链，且设I∈1，.。。，|E|−1.如果E(i)通过隐式通信进行通信，则

![image-20230623160856652](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403093.png)

等一下。此外，如果E(i)和E(i+1)都通过隐式通信进行通信，并且E(i)具有比E(i+1)更高的优先级，则

![image-20230623160937501](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403695.png)

证据。对于内隐通信任务，![image-20230623160958520](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231609584.png)成立。将此应用于方程式(P2)得到方程式(12)的陈述。

如果E(i)具有比E(i+1)更高的优先级，并且E(i+1)的作业J不早于时间rji被释放，则J在Ji结束之前不开始。具体地说，如果Ji和J都以隐式通信进行通信，则J在Ji的写事件之后有其读事件。由于Ji+1是E(i+1)中最早读取由Ji写入的数据的作业，这证明了公式(13)。

> 优先级没看懂，不想讲了

原则3简化为以下内容：

引理19.设®ce m=(z，J1，.。。，J|E|，z‘)是有效的立即转发扩充作业链。如果E(|E|)通过隐式通进行通信，则

![image-20230623161220162](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403987.png)

证据。将![image-20230623163053114](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231630195.png)应用于方程(P3)，得到这个引理的结果。

## 7 ANALYSES FOR HOMOGENEOUS SYSTEMS 同质系统的分析

在本节中，我们考虑同构系统，其中所有任务要么通过LET通信，要么所有任务通过隐式通信，并且或者所有任务都是周期性的，或者所有任务都是零星的。我们应用上一节提供的原则，对四种不同情况的最大反应时间(MRT)进行专门的分析。对于两个具有零星任务的情况，分析界限与文献中的结果一致(重新公式以匹配我们的符号)。对于具有周期性任务的两种情况，以前没有提供过MRT的这些解析界。如表1所示，相关文献的证明可能需要额外的假设，然而，在本节中，所有界限都是在没有额外要求的情况下证明的。

下面的范围是最悲观的范围，因为它被以下所有分析所支配。例如，在Hamann等人的工作中提到了这一点。[15]。

定理20(**==零星的，LET==**；与[15]重合)。如果==E的所有任务都是零星的，并且它们都通过LET进行通信==，那么

![image-20230623172026254](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403976.png)是最大反应时间的上限。

> 分析方法二：2.1，偶发+LET

证据。设®Ce m=(z，J1，.。。，J|E|，z‘)是任何有效的立即转发扩充作业链。然后我们可以将®Ce m的长度分解为其头部片段、身体片段和尾部片段的长度，即，

![image-20230623172420981](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403128.png)

Head：根据引理11，Head段的边界为![image-20230623172535526](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403698.png)

正文：通过引理16，我们对所有的i，有![image-20230623172707293](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231727362.png)。引理6指出，对于有效链®Ce m，不等式![image-20230623172727362](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403896.png)成立。因此，引理12的t=rJi+De(I)可以应用，它得到最大值ξE(i+1)(rJi+DE(i))≤rJi+De(i)+Tmax E(i+1)。我们得出结论

![image-20230623172604638](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403175.png)

Tail：根据引理17，尾段的边界为

![image-20230623172619650](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403022.png)

®Ce m的长度的界限是公式(19)、(20)和(21)的组合，即我们有

![image-20230623172633880](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403291.png)

![image-20230623172645010](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403517.png)



定理21(==零星的、隐含的交流==；与[8]一致)。==如果E的所有任务都是零星的，并且它们都通过隐式通信进行通信==，那么

![image-20230623172409449](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403706.png)

> 分析方法二：2.2，偶发+隐式

证据。可以应用与定理20的证明中相同的过程。特别地，对于任何有效立即转发扩充作业链®ce m=(z，J1，.。。，J|E|，z‘)，我们按如下方式达到这个界。我们用引理11(r J1−z≤Tmax E(1))来限制®Ce m的头部段，利用引理18的引理12和等式(12)来限制体段((r Ji+1−r Ji)≤Tmax E(i+1)+RE(I))，其中前者可以通过引理6应用于rji+RE(I)≥Φ(E)。我们用引理19(z‘−r J|E|≤RE(|E|))来限制ΦCe m的尾段。

我们通过应用公式(13)中的身体段的紧缩界，得到了相同情况下的改进界。Dürr等人。[9]2019年实现了同样的目标。

定理22==(零星的、隐含的交流==；与[9]一致)。如果E的所有任务都是零星的，并且它们都通过隐式通信进行通信，那么MRT(𝐸) ≤

![image-20230623173249417](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403024.png)

证据。对于任何有效的立即转发扩充作业链®ce m=(z，J1，.。。，J|E|，z‘)，我们用引理11中的rJ1−z≤T max E(1)来约束头部段，用引理19中的z’−r J|E|≤RE(|E|)来约束尾段。我们应用引理18得到主体段rJi+1−rJi的界。特别地，如果E(i)具有比E(i+1)更低的优先级，则等式(12)与引理12一起提供上界rJi+1−r Ji≤Tmax E(i+1)+RE(i)。然而，如果E(i)的优先级高于E(i+1)，则有两种情况需要考虑：

情况1：rE(i+1)(1)≤r Ji。在这种情况下，来自引理12和等式(13)的界可以直接应用，并且rJi+1−r Ji≤Tmax E(i+1)。

例2：rE(i+1)(1)>r Ji。在这种情况下，E(i+1)(1)=Ji+1且引理6得到rE(i+1)(1)≤r Ji+RE(I)。特别地，r Ji+1−r Ji≤RE(I)。

如果E(I)具有比E(i+1)更高的优先级，则两种情况相结合产生界限rji+1−rji≤Tmax E(i+1)+max(RE(i)−Tmax E(i+1)，0)。我们通过组合上述界限并相应地对求和进行排序来得到等式(25)中的界限。

> i优先级低，T+R
>
> i优先级高，T+R或者T

正如第6节所讨论的周期性任务，任务的发布模式是重复的。因此，仅限于限定时间间隔的释放模式就足够了。就我们所知，以下两个分析没有出现在文献中。然而，Martinez等人也提出了类似的方法。[21]、Hamann等人。[15]和Kordon和Tang[18]对于LET任务，Kloda等人[17]对于内隐交际任务。

定理23(==周期，LET==)。如果==E的所有任务都是周期性的，并且它们都通过LET通信==，则算法1得到最大反应时间上界。

![image-20230623173412246](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403763.png)

> 分析方法二：2.3，周期+LET

证据。在每个步骤中，m=1、2、3、.。。构造了直接前向增广作业链®ce m。具体地说，在第3-4行中，计算了第一个作业的释放，并应用了引理13的标题段的界限。在第9-10行，主体段以引理14和16为界。在第11行，应用引理17的尾段的界。由于用引理13、14、16和17得到的界仅基于引理15的a)-c)，该引理确保比较那些满足第5-8行中所给出的条件的直接向前扩充的作业链产生最大反应时间上界。

定理24==(周期性的、隐含的沟通==)。如果E的==所有任务都是周期性的，并且它们都通过隐式通信进行通信，==则算法2得到了最大反应时间上界。

![image-20230623173508651](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403231.png)

> 分析方法二：2.4，周期+隐式

证据。在每个步骤中，m=1、2、3、.。。构造了直接前向增广作业链®ce m。具体地说，在第3-4行中，计算了第一个作业的释放，并应用了引理13的标题段的界限。在第9-10行，主体段以引理14和18为界。在第11行，应用引理19的尾段的界。由于利用引理13、14、18和19得到的界仅基于引理15的a)-c)，该引理确保比较满足第5-8行所给条件的那些直接向前扩充的作业链产生最大反应时间上界。

> 备注25，分析方法二，总结

==备注25(均匀切割分析)==。总之，通过将因果链分割成最大的同质子链，即==子链的所有任务具有相同的通信策略和相同的释放约束，==并利用由以下定理提供的齐次上界来实现对异质情况的分析：

·零星，LET：定理20  

·零星，隐式通信：定理21或22  

·周期性，LET：定理23  

·周期性，隐式通信：定理24

8 APPLICATION OF ANALYSIS PRINCIPLES TO HETEROGENEOUS COMMUNICATION分析原理在异质通信中的应用
----

当一个因果链中的两个后续任务遵循不同的通信策略时，将分析减少到同构系统会有很大的缺点。具体地说，不能利用通信方式不同的任务之间的定期发布模式。在本节中，我们通过**仅在发布约束更改时(即从零星更改为周期性或从周期性更改为零星更改)来利用发布模式**。

==对于由此产生的具有不同通信机制的纯周期性和纯零星的因果链==，我们提供了从第6节中提出的原理导出的分析。我们从查看由零星任务组成的链开始。

> 分析方法三：不管通信方式是什么，根据周期或偶发拆分子链

定理26(零星的、异质的交流)。如果因果链E的所有任务都是零星的，则最大反应时间由

![image-20230623173724755](https://cdn.jsdelivr.net/gh/wsm6636/pic/202306231737841.png)

![image-20230623173732043](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403634.png)

证据。设®Ce m=(z，J1，.。。，J|E|，z‘)是任何有效的立即转发扩充作业链。表2概述了Ji+1，i=1，2，.。。，|E|−1。请注意，仅对于引理18的等式(13)中的界，E(i)和E(i+1)都以相同的方式通信。

由于在时刻Rji+RE(I)，E(i+1)的第一个任务已经被引理6释放，对于那些将ξE(i+1)应用到Rji+RE(I)或r Ji+DE(I)的界，可以直接利用引理12中给出的关于ξE(i+1)的界。只有π(E(I))>π(E(i+1))的情形comm(E(I))=Impl=comm(E(i+1))值得特殊处理。类似于定理22的证明，如果Re(i+1)(1)≤r J1，则rJi+1−r Ji≤Tmax E(i+1)，且如果Re(i+1)(1)>rJ1，则由引理6得到rJi+1−r Ji≤RE(I)。

总结了来自引理11的头部段rJ1−z、来自引理17和引理19的尾段z‘−Rj|E|的不同界限，以及来自上述对于主体段rJi+1−rJi，i=1，2，.。。，|E|−1，证明了公式(26)。

算法3展示了在查看异类通信时如何利用周期性发布模式。

![image-20230623173844997](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403380.png)

定理27(周期性、异质交流)。如果E的所有任务都是周期性的，则算法3得到最大反应时间上界。

证据。在每个步骤中，m=1、2、3、.。。构造了直接前向增广作业链®ce m。具体地说，在第3-4行中，计算了第一个作业的释放，并应用了引理13的标题段的界限。在第9-10行，主体段基于引理14的等式(8)和来自表2的结果被限定。在第11-14行，根据通信行为应用来自引理17和引理19的尾段的界限。

由于用引理13、14、17和19以及表2得到的界仅基于引理15的a)-c)，该引理确保比较那些满足第5-8行中所给出的条件的直接向前扩充的作业链产生最大反应时间上界。

==备注28(改进的切割分析)==。总之<span style="background:#FF9999;">，通过将因果链分割成具有相同释放约束的最大子链</span>，==即子链的所有任务都是周期性的或子链的所有任务都是零星的==，并利用以下定理提供的上界，实现了对异质情况的改进分析：

·零星：定理26·周期性：定理27

![image-20230623174030356](https://gcore.jsdelivr.net/gh/wsm6636/pic/202307211403797.png)

## 结论

图2和图3显示了评估结果。红线表示中值，蓝框表示50%的数据，胡须表示所有数据。我们观察到，(Hom)和(Imp)都提高了(Bas)高达80%，并且(Imp)进一步提高了(Hom)。所有这些改进都来自于剪裁数量的减少，这将给分析带来额外的悲观情绪。如果底层任务是周期性的，即如果链被切断，则无法利用发布模式，则这种悲观情绪最高。对于任务集中有50%的任务内含内隐交流和50%有let的情况，我们观察到潜伏期减少(Hom)而不是(Imp)下降。这是因为在这种情况下(Hom)的插条数量最多，但对于(Imp)来说，在不同的通信方式之间没有额外的切割。这表明，如果通过明智地选择沟通策略和任务的释放限制来最小化必要的削减数量，分析上限可以进一步收紧。

我们首次对非均相体系的因果链进行了最大反应时间分析。也就是说，一些任务是周期性的，而另一些任务是零星的，一些任务使用逻辑执行时间(LET)进行通信，而其他任务通过隐式通信进行通信。更具体地说，我们利用Günzel等人的切割定理提供了一种成分基线方法。[14]将多相链的分析简化为微不足道的均质子链的分析。然后，我们通过利用同质子链的复杂边界来增强这种组成方法。我们揭示了同构系统的基本分析原则，并为四个同构场景中的两个提供了新的界限。此外，我们通过将这些原则应用于具有同质发布模式但异质通信策略的因果链来收紧对异质系统的分析界限。我们的评估表明，对于某些系统，这两种更复杂的方法显著优于我们的基线方法，特别是当周期性任务的确定性发布模式可以被利用时，而对于其他系统，我们的所有三种方法都表现得类似好。

我们相信，对异类设置的分析解决了行业驱动系统的一个未决问题。此外，这项工作中提出的基于原则的分析框架提供了端到端分析的统一视角，可能适用于或可转移到未来的问题场景，如新的通信手段或不同的发布策略(例如，到达曲线)。



# 210381198208102955



***

# 笔记

## 1 论文创新在于

## 2 解决了什么问题

## 3 方法

## 4 不足&可继续研究

## 5 可参考

## 6 思考

Referred in <a href="zotero://note/u/HWG3PU5P/?ignore=1&#x26;line=-1" rel="noopener noreferrer nofollow" zhref="zotero://note/u/HWG3PU5P/?ignore=1&#x26;line=-1" ztype="znotelink" class="internal-link">cause-effect chain</a>
