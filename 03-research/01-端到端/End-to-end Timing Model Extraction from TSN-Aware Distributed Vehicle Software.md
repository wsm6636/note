---
created: 2023-09-19T20:22
updated: 2024-03-27T22:40
tags:
  - 笔记
  - 笔记/文献笔记
---

# End-to-end Timing Modeling and Analysis of TSN in Component-Based Vehicular Software

| Title                 | End-to-end Timing Modeling and Analysis of TSN in Component-Based Vehicular Software                             |
| --------------------- | ---------------------------------------------------------------------------------------------------------------- |
| Journal or Conference | 2023 IEEE 26th International Symposium on Real-Time Distributed Computing (ISORC)                                |
| Authors               | Bahar Houtan; Mehmet Onur Aybek; Mohammad Ashjaei; Masoud Daneshtalab; Mikael Sj ö din; John Lundb ä ck; Saad Mubeen |
| Pub. date             | 5/2023                                                                                                           |
| DOI                   | [10.1109/ISORC58943.2023.00025](https://doi.org/10.1109/ISORC58943.2023.00025)                                   |
| Level                 |                                                                                                                  |

End-to-end Timing Modeling and Analysis of TSN in Component-Based Vehicular Software——组件化车载软件中 TSN 的端到端时序建模与分析
====
## 摘要

在本文中，我们提出了一种端到端的时序模型来捕获分布式嵌入式系统软件体系结构中的时序信息，该系统使用基于时间敏感网络(TSN)标准的网络通信。需要这样的模型作为输入来执行这些系统的端到端时序分析。此外，我们提出了一种方法，旨在从基于组件的系统软件体系结构和 TSN 网络配置中自动提取端到端时序模型的实例。作为概念验证，我们在汽车行业使用的 RUBUS 组件模型(RCM)及其工具链 RUBUS-ICE 中实现了所提出的端到端时序模型和提取方法。通过对一个汽车工业用例的建模和时序分析，验证了所提出的模型和方法的可用性。



## 引言

由于软件的巨大规模和复杂性，设计高度软件密集型车载嵌入式系统具有挑战性 [1]。此外，由于集成了 TimeSensitive Networking(TSN)标准 [2]、[3]、[4] 引入的网络通信机制，现代车载软件的复杂性不断增加。TSN 标准是解决车载应用中高带宽和实时通信需求的有吸引力的解决方案。这些标准通过确定性流量整形机制增强了交换以太网。更具体地说，TSN 支持硬实时、高带宽、低延迟和低抖动的流量传输。这些功能由时间感知整形器(TAS)启用的离线调度时间触发流量、基于信用的整形器(CBS)为不同类别流量的资源预留和时钟同步 [5] 支持。尽管 TSN 标准为复杂和确定性的网络通信提供了灵活的设计，但这种灵活性的代价是由于包括了网络设备和流量的几个可配置因素而使设计过程进一步复杂化。

基于模型的工程(MBE)和基于组件的软件工程(CBSE)方法 [6]、[7] 被广泛用于管理软件复杂性和车辆软件系统的成本效益开发。有几种领域特定的语言和组件模型可用于建模车辆系统的软件体系结构，例如，汽车开放系统体系结构(AUTOSAR)[8]、RUBUS 组件模型(RCM)[9]、AMALTHEA1 [10]、EAST-ADL [11] 和体系结构分析与设计语言(AADL)[12]，仅举几例。所有的模型和语言帮助嵌入式软件开发人员组织必要的信息来开发和设计复杂的分布式嵌入式软件系统。

除了管理车载分布式软件系统的设计复杂性外，这些系统的开发人员还被要求验证其软件体系结构上指定的实时要求。可以通过执行这些系统的软件体系结构的端到端数据传播延迟分析来验证时序要求 [13]、[14]。分析结果还可以指导软件体系结构的改进 [15]。这种分析已经在汽车行业的几个工具中实现，这些工具支持这些系统的基于模型和组件的开发，例如，SymTA/S2 [16] 和 Rubus [17]。分析需要端到端时序模型作为关键输入。端到端计时模型包含车载分布式软件系统的全面计时信息。该时序模型的实例必须从这些系统的软件体系结构中提取，并作为输入提供给基于模型的分析工具。

本文提出了一种端到端的时序模型来描述支持 TSN 的分布式嵌入式系统。此外，我们提出了一种自动化的方法来系统地从这些系统的软件体系结构中提取端到端时序模型的实例。端到端时序模型可用于系统的端到端数据传输延迟分析。我们基于在 Rubus-ICE 工具套件 [18] 中开发的 RCM 在车辆领域的工业用例上对所提出的方法进行了评估。作为概念验证，我们选择 RCM 是因为它是第一个商业上可用的模型，支持基于 TSN 的车载分布式嵌入式系统的全面建模和端到端数据传播延迟分析 [19]。
[8、Holistic Modeling of Time Sensitive Networking in Component-based Vehicular Embedded Systems——构件化车载嵌入式系统中时间敏感网络的整体建模](../02-因果链/其他人的工作.md#8、Holistic%20Modeling%20of%20Time%20Sensitive%20Networking%20in%20Component-based%20Vehicular%20Embedded%20Systems——构件化车载嵌入式系统中时间敏感网络的整体建模)

本文的主要贡献如下。

<span style="color:black;background:#ff4d4f !important;"> ·提出了一种端到端的时序模型来描述分布式车载嵌入式软件系统中包含所有配置参数的 TSN 网络。</span>

·我们提供了一种从基于组件的车载系统软件体系结构中提取端到端时序模型实例的自动化方法。

·我们通过将所提出的时序模型和提取方法与工业工具套件 Rubus-ICE 的基于构件的软件工程环境进行集成，为所提出的时序模型和提取方法提供了概念证明。

·我们评估了所提出的模型和方法，以及它们与 Rubus-ICE 工具套件在汽车工业用例上的集成。

## 背景及相关工作

如 [5] 所述，基于模型的车载嵌入式系统软件开发一般包括四个步骤：(1)对软件体系结构进行建模；(2)从软件体系结构中提取时序属性和需求；(3)使用端到端数据传播延迟分析来验证时序需求和约束；(4)根据时序分析结果对软件体系结构进行精化。

### 2.1 为软件体系结构建模

有几种软件体系结构建模语言和组件模型，如 AUTOSAR、RCM、AMALTHEA、EAST-ADL、AADL 等等。

AUTOSAR 被广泛用于开发汽车系统的软件体系结构。SYNTA/S 是一个符合 AUTOSAR 的商业时序分析和优化框架。最近在 [20] 中的一项工作将 AUTOSAR 自适应与适用的标准相结合，以开发更复杂的系统。建议的三层体系结构协调 AUTOSAR 自适应、OPC UA 标准 3 和 TSN 标准之间的绑定。本文认为，提出的体系结构还不够成熟，因为体系结构层中涉及的所有技术都还在开发中。

RCM 由支持 TSN 的分布式嵌入式系统建模所必需的分层实体组成。在最高级别，该系统包含至少两个节点和互连这些节点的网络单元。节点(终端站)是为一个或多个软件应用程序(SA)提供运行时环境的处理元素。SA 为系统内的整体软件体系结构部分提供了空间和时间隔离。在 RCM 中，软件体系结构是通过互连一组软件组件(SWCs)来建模的。SWC 是与运行时或计时模型中的任务相对应的设计时实体。SWC 通过它们的接口(一组数据和触发端口)相互通信。

据我们所知，RCM 是第一个也是唯一一个支持 TSN 全面建模的组件模型 [19]。最近，已经有一些努力通过模型转换来提高 RCM 的其他建模方法的性能和适用性 [21]。[22] 中的工作提出了 AMALTHEA 和 RCM 之间的映射技术，以实现 RCM 中基于 AMALTHEA 的组件模型的时序分析。此外，[23] 中的工作提出了从 EAST-ADL 模型到 RCM 的映射，目的是启用非 RCM 模型的时序分析。

### 2.2 软件体系结构中的时序信息提取

<span style="color:black;background:#40a9ff !important;">使用RCM开发的基于组件的车载嵌入式系统的软件体系结构中的时序模型的建模和提取在[24]中给出。文[24]中的工作考虑了几种板载通信协议，如控制器局域网(CAN)[25]、CANOpen[26]、AUTOSAR COMM[27]和交换式以太网。然而，它没有考虑TSN，这是我们工作的主要重点。</span>

[19]中的工作通过将TSN标准建模的多个方面集成到带有时序分析的组件模型中，对[24]进行了补充。然而，<span style="color:black;background:#fff88f !important;">[19]中提出的TSN时序模型和[24]中的时序模型提取不足以包括TSN的所有时序方面。</span>然而，TSN的复杂性要求在端到端数据传播延迟分析之前，在定时信息提取和配置过程中进行大量的自动化和优化。

最近的一项工作[28]讨论了从基于TSN的软件体系结构中提取时序模型的初步想法和工作进展。作为对比，我们提出了一个完整的端到端时序模型和一种从车载分布式嵌入式系统的软件体系结构中自动提取端到端时序模型的方法，并通过一个汽车应用案例进行了补充。此外，我们的工作还考虑了TSN时序模型的集成和配置方面。

### 2.3 端到端时序模型、时序分析与验证

为了验证分布式嵌入式系统中任务链(设计时的SWC)和网络消息的时序要求，计算了端到端数据传播延迟(数据年龄和反应时间延迟)，并与相应的数据年龄和反应时间约束进行了比较。与数据年龄和反应时间延迟相对应的时间约束是AUTOSAR标准时间模型的一部分。数据老化延迟是从数据到达链的输入端到相应数据在输出端的最新可用性之间经过的时间。然而，反应时间延迟对应于链的输出端的数据的最早可用性，该链的输出端对应于刚刚错过链的输入端的(事件的)读访问的数据[29]、[13]。

图1展示了一个基于传统任务模型、只有一条TSN消息的两节点分布式嵌入式系统的数据年龄和反应时间延迟。图1中用虚线橙色箭头表示任务实例和消息之间的数据流，表示链中数据的读写。

<span style="color:black;background:#40a9ff !important;">也有一些工作提出了基于传统任务模型的端到端数据传播延迟分析[14]、[30]。文献[17]、[15]中的工作考虑了基于CAN网络的分布式嵌入式系统的分析。[31]中的工作考虑了使用以太网络的系统。[14]和[32]中的工作提出了车载应用的端到端数据传播延迟分析，其中一些技术已经在支持基于组件的软件开发的工具中实现，例如[17]和[33]。[34]，[18]中的工作提出了将时序分析与基于模型的开发工具集成时的开放研究挑战及其解决方案。然而，这些工作只关注传统的车载网络，如CAN，而没有考虑TSN。</span>

在TSN的情况下，需要考虑几个附加功能，例如<span style="color:black;background:#fff88f !important;">终端站的同步</span>，以及针对不同的TSN类别存在不同的整形机制。文献[35]中的一项最新工作表明，<span style="color:black;background:#fff88f !important;">现有的端到端数据传播延迟分析支持非调度TSN类，但不支持TSN中的调度流量。</span>

端到端数据传播延迟分析结果通常以表格的形式呈现，显示每个任务(SWC)或消息的单独响应时间以及数据期限和反应时间延迟。这些信息可以被系统设计者和集成商用来改进软件体系结构[15]。根据分析结果自动求精软件体系结构是一个开放的研究挑战[5]，这可能有助于提高更复杂的车载嵌入式系统基于模型的软件开发的可扩展性和效率。

## 三、端到端计时模型

在本文中，我们考虑了分布式嵌入式系统中的端到端时序模型，它从TSN的软件体系结构中捕获时序信息。这样的模型是用于验证软件体系结构的定时行为的分析技术和工具的必要输入。系统模型由两个或更多个终端站(或节点)组成，由E表示，以及至少一个TSN网络，由N表示，如Eq所示。(1)：

![image-20230926104140884](https://gcore.jsdelivr.net/gh/wsm6636/pic/202309261041013.png)

系统模型中的网络集合由公式定义。(2)如下：

![image-20230926104149428](https://gcore.jsdelivr.net/gh/wsm6636/pic/202309261041495.png)

这些网络将终端站相互连接。系统模型中的整个终端站集合由E表示，如等式所示。(2)：

![image-20230926104240408](https://gcore.jsdelivr.net/gh/wsm6636/pic/202309261042478.png)





![image-20230924211222720](https://gcore.jsdelivr.net/gh/wsm6636/pic/202309242112879.png)



***

# 笔记

## 1 论文创新在于

## 2 解决了什么问题

## 3 方法

## 4 不足&可继续研究

## 5 可参考

## 6 思考

Referred in [端到端.md](E:\笔记\端到端\端到端.md)

