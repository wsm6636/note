---
created: 2023-07-08T20:33
updated: 2024-03-26T23:34
tags:
  - 笔记
  - 笔记/文献笔记
---

# 具有固定抢占点的实时任务的缓存感知响应时间分析

本文针对具有固定抢占点的实时任务提出了一种新的响应时间分析方法，能够更精确地估计与缓存相关的抢占延迟。

## 固定抢占点
**不可抢占or完全可抢占or限制性可抢占**

**非抢占式**调度是避免这种与缓存相关的抢占成本的一种方式。任务或中断处理程序的最后期限很短的系统通常不能在每个任务执行的整个过程中禁用抢占。

**抢占式**实时系统中，抢占可以引入与抢占相关的显著延迟，甚至可以达到任务最坏情况执行时间的33%。

**限制性可抢占**Limited-Preemptive Scheduling (LPS)
延迟抢占调度Deferred Preemption Scheduling (LP- DPS)
抢占阈值调度Preemption Thresholds Scheduling (LP-PTS)
固定抢占点Fixed Preemption Points (LP-FPP)
LP-FPP允许对任务集可调度性进行最精确的估计，因为任务中可能被抢占的点是有限的，并且在系统运行时之前就已经知道。大多数情况下可以优于许多现有的调度算法。
## 缓存感知响应
缓存相关的抢占延迟cache-related preemption delay (CRPD)
无优先区域non-preemptive regions (NPR)
清除缓存块 evicting cache blocks ECB
有用的缓存块 useful cache blocks UCB

**缓存相关的抢占延迟计算**为缓存块重新加载次数的上限，乘以一个恒定的BRT

**BRT**是单个内存块重新加载到缓存内存所需的最长时间，即内存块重新加载时间。

**ECB-Only**，ECB\*BRT；
**UCB-Only**，（有可能被j抢占，优先级不小于i的任务的）UCB\*BRT

ECB-Only and UCB-Only方法只考虑被强占任务或者抢占任务，但不是每个UCB都会在抢占时被清除，也不是每个ECB都会清除UCB

**UCB-Union** 缺点是，考虑到的抢占次数严重高估了对响应时间有实际影响的抢占次数；特别是在有大量任务的时候。
$$CRPD^{UCB−Union}_{(i,k)}=BRT ×∣(\bigcup_{∀k∈bet(i,k)}UCB_{s_i})∩ECB_{s_k}∣$$
(1) 计算出的抢占任务$T_k$抢占任务$T_i$所产生的缓存相关抢占延迟;
(2) $UCB_{s_i}$为任务$T_i$的有用缓存块集合;
(3) $ECB_{s_k}$为任务$T_k$的抢占缓存块集合;
(4) bet(i, k)表示被调度的任务集中优先级大于等于被抢占任务$T_i$且优先级低于任务$T_k$的任务集合.

**ECB-Union** 补充UCB-Union
$$CRPD^{ECB−Union}_{(i,k)}=BRT × max_{∀k∈bet(i,k)} \{∣UCB_{s_i}∩(\bigcup_{t∈hp(k)∪T_k} ECB_{s_k})∣\}$$
(1) 计算出的任务Ti抢占任务Tk的CRPD;
(2) hp(k)表示在调度任务集中任务优先级大于任务Tk的任务集合.
## 方法

本文针对具有固定抢占点和顺序非抢占区域的随机固定优先级实时任务，提出了一种新的缓存感知响应时间分析方法。我们首先通过定义在所有可能的抢占情况下每个内存缓存块可以被重新加载的最大次数来识别可重新加载的缓存块，这与现有方法相比是一种改进。其次，我们定义了考虑非抢占区域上个别抢占情况的CRPD界，最后结合这两种方法，定义了一个安全的CRPD上界估计，并将其集成到可调度性分析中。此外，我们确定并提出了一个最大时间间隔的计算，在此期间，任何释放的抢占作业都可能影响任务的CRPD。评估结果表明，在所有评估的情况下，提出的分析优于现有的LP-FPP任务模型的可行性分析，无论不同的任务和缓存参数的变化。
